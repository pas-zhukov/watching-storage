# Пульт охранника банка

---

Сайт на Django, подключённый к БД на проходной в банковском хранилище. Отображает информацию об активных пропусках и посетителях хранилища.

## Установка зависимостей
Первым делом, скачайте код:
``` 
git clone https://github.com/pas-zhukov/watching-storage.git
```
Для работы скрипта понадобятся библиотеки, перечисленные в `reqirements.txt`.
Их можно установить при помощи pip:
```
pip install -r requirements.txt
```

## Переменные окружения

Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `manage.py` и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Переменная `DATABASE_URL` требуется для запуска сайта:
```
DATABASE_URL=ENGINE://USER:PASSWORD@HOST:PORT/NAME
```
где:
- `ENGINE` - Бэкенд для базы данных. Найти свой можно в [таблице](https://github.com/jazzband/dj-database-url#url-schema).
- `HOST` - Хост для подключения к БД.
- `PORT` - Конкретизирует, какой сетевой порт использовать.
- `NAME` - Название БД.
- `USER` и `PASSWORD` - имя пользователя и пароль соответственно.

Необязательные переменные (имеют значения по умолчанию):
- `DEBUG` — дебаг-режим. Поставьте `True`, чтобы увидеть отладочную информацию в случае ошибки. Выключается значением `False`. По умолчанию - `False`.
- `SECRET_KEY` — секретный ключ проекта. Например: `erofheronoirenfoernfx49389f43xf3984xf9384`. По умолчанию - `REPLACE_ME`.
- `ALLOWED_HOSTS` — см [документацию Django](https://docs.djangoproject.com/en/3.1/ref/settings/#allowed-hosts). По умолчанию - `*`.

## Запуск

1. Запускаем скрипт командой:
```
python manage.py runserver 0.0.0.0:8000
```
2. Открываем сайт по ссылке [http://127.0.0.1:8000/](http://127.0.0.1:8000/)
3. Если всё сделано верно, откроется главная страница со списком активных пропусков:

![img](screenshots/main_page.png)


Вкладка со списком людей в хранилище:

![img](screenshots/users_in_storage.png)


Если нажать на конкретного пользователя, можно получить данные о его визитах:

![img](screenshots/passcard_info.png)


## Цели проекта

Код написан в учебных целях — это урок на курсе по Python и веб-разработке на сайте Devman.